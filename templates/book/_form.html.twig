{{ form_start(form) }}

    {# Affiche la couverture actuelle si présente #}
    {% if form.coverImage.vars.data %}
        <div class="mb-3">
            <label class="form-label d-block">Image actuelle :</label>
            <img src="{{ asset('uploads/covers/' ~ form.coverImage.vars.data) }}" alt="Couverture" class="img-thumbnail" style="max-height: 200px;">
        </div>
    {% endif %}

    {# Boucle sur les champs sauf _token et coverImage (déjà traité) #}
    {% for field in form %}
        {% if field.vars.name not in ['_token', 'coverImage'] %}
            <div class="mb-3">
                {{ form_label(field, null, { label_attr: { class: 'form-label' } }) }}
                {{ form_widget(field, { attr: { class: 'form-control' } }) }}
                {{ form_errors(field) }}
            </div>
        {% endif %}
    {% endfor %}

    {# Champ fichier coverImage #}
    <div class="mb-3">
        {{ form_label(form.coverImage, null, { label_attr: { class: 'form-label' } }) }}
        {{ form_widget(form.coverImage, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.coverImage) }}
    </div>

    <button class="btn btn-primary w-100">{{ button_label|default('Valider') }}</button>

{{ form_end(form) }}
